using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using NUnit.Framework;
using Rhino.Mocks;
using Sciendo.Love2Playlist.Processor;
using Sciendo.Love2Playlist.Processor.DataTypes;


namespace Sciendo.Love2Playlist.Tests.Unit
{
    [TestFixture]
    public class LoveProviderTests
    {
        private readonly string _content;

        public LoveProviderTests()
        {
            _content = @"{""lovedtracks"":{""track"":[{""name"":""Nautilus"",""mbid"":""653979a1-0258-42d0-b60b-053b801aa581"",""url"":""https://www.last.fm/music/Anna+Meredith/_/Nautilus"",""date"":{""uts"":""1501017224"",""#text"":""25 Jul 2017, 21:13""},""artist"":{""name"":""Anna Meredith"",""mbid"":""6fc10cdb-04ce-412c-993f-fea0f4e6b95f"",""url"":""https://www.last.fm/music/Anna+Meredith""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/204f1c236f6c3fb61a8304b75e3be85a.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/204f1c236f6c3fb61a8304b75e3be85a.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/204f1c236f6c3fb61a8304b75e3be85a.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/204f1c236f6c3fb61a8304b75e3be85a.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Bloodhail"",""mbid"":""881e93d5-0673-47c8-a36a-ed20db0813fe"",""url"":""https://www.last.fm/music/Have+a+Nice+Life/_/Bloodhail"",""date"":{""uts"":""1500935514"",""#text"":""24 Jul 2017, 22:31""},""artist"":{""name"":""Have a Nice Life"",""mbid"":""70923a5d-d3ba-4ef7-9064-ea5f709aa076"",""url"":""https://www.last.fm/music/Have+a+Nice+Life""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/6ff7f58e8f2b4838895ba644baa55cbb.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/6ff7f58e8f2b4838895ba644baa55cbb.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/6ff7f58e8f2b4838895ba644baa55cbb.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/6ff7f58e8f2b4838895ba644baa55cbb.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Bright Sunny Smiles"",""mbid"":""9e6dd316-cafa-4bb5-afc1-004258661685"",""url"":""https://www.last.fm/music/Television+Personalities/_/Bright+Sunny+Smiles"",""date"":{""uts"":""1500933754"",""#text"":""24 Jul 2017, 22:02""},""artist"":{""name"":""Television Personalities"",""mbid"":""62c2cd94-30a8-43ed-9d06-8f689111c69c"",""url"":""https://www.last.fm/music/Television+Personalities""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/ac76a0093e054ce2956ffedd909789e4.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/ac76a0093e054ce2956ffedd909789e4.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/ac76a0093e054ce2956ffedd909789e4.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/ac76a0093e054ce2956ffedd909789e4.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""She Loves Us!"",""mbid"":""8a0a9e68-8961-4c04-824a-3ba0f54aea4b"",""url"":""https://www.last.fm/music/Swans/_/She+Loves+Us%21"",""date"":{""uts"":""1500927922"",""#text"":""24 Jul 2017, 20:25""},""artist"":{""name"":""Swans"",""mbid"":""3285dc48-9505-469d-ad8a-bdf2d3dba632"",""url"":""https://www.last.fm/music/Swans""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/0534b386875444108474d3c506417dbb.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/0534b386875444108474d3c506417dbb.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/0534b386875444108474d3c506417dbb.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/0534b386875444108474d3c506417dbb.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""A Little God In My Hands"",""mbid"":""0daeba82-a544-4c83-bafa-fc93015a4902"",""url"":""https://www.last.fm/music/Swans/_/A+Little+God+In+My+Hands"",""date"":{""uts"":""1500927509"",""#text"":""24 Jul 2017, 20:18""},""artist"":{""name"":""Swans"",""mbid"":""3285dc48-9505-469d-ad8a-bdf2d3dba632"",""url"":""https://www.last.fm/music/Swans""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/0534b386875444108474d3c506417dbb.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/0534b386875444108474d3c506417dbb.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/0534b386875444108474d3c506417dbb.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/0534b386875444108474d3c506417dbb.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Kamaloka"",""mbid"":""21796efb-449f-4e7d-be98-0799cafd3a0c"",""url"":""https://www.last.fm/music/GoGo+Penguin/_/Kamaloka"",""date"":{""uts"":""1500927484"",""#text"":""24 Jul 2017, 20:18""},""artist"":{""name"":""GoGo Penguin"",""mbid"":""b328de0e-ee48-4d74-9d36-7c7ee16ffc69"",""url"":""https://www.last.fm/music/GoGo+Penguin""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/f286d8da5a564adfca2e83980151366c.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/f286d8da5a564adfca2e83980151366c.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/f286d8da5a564adfca2e83980151366c.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/f286d8da5a564adfca2e83980151366c.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Truant"",""mbid"":""d8dd020b-73b4-4f3f-88e9-74c9ea826008"",""url"":""https://www.last.fm/music/Burial/_/Truant"",""date"":{""uts"":""1500926131"",""#text"":""24 Jul 2017, 19:55""},""artist"":{""name"":""Burial"",""mbid"":""b068d41f-855d-4426-9ff7-f79b094441ff"",""url"":""https://www.last.fm/music/Burial""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/e95e760cc3624d9fb02b5ed66e41408c.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/e95e760cc3624d9fb02b5ed66e41408c.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/e95e760cc3624d9fb02b5ed66e41408c.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/e95e760cc3624d9fb02b5ed66e41408c.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Screen Shot"",""mbid"":""0f675741-a555-4006-afa7-973a76b75301"",""url"":""https://www.last.fm/music/Swans/_/Screen+Shot"",""date"":{""uts"":""1500925694"",""#text"":""24 Jul 2017, 19:48""},""artist"":{""name"":""Swans"",""mbid"":""3285dc48-9505-469d-ad8a-bdf2d3dba632"",""url"":""https://www.last.fm/music/Swans""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/0534b386875444108474d3c506417dbb.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/0534b386875444108474d3c506417dbb.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/0534b386875444108474d3c506417dbb.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/0534b386875444108474d3c506417dbb.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Friendship Update"",""mbid"":""5d5db2ae-184c-41cb-a73e-ad7ea4f3b4f3"",""url"":""https://www.last.fm/music/The+Go%21+Team/_/Friendship+Update"",""date"":{""uts"":""1500668896"",""#text"":""21 Jul 2017, 20:28""},""artist"":{""name"":""The Go! Team"",""mbid"":""8a396a9c-2e4f-47e2-a587-c26e93a0953f"",""url"":""https://www.last.fm/music/The+Go%21+Team""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Sprawl II (Mountains Beyond Mountains)"",""mbid"":""e99afdb1-2e1f-42e1-9498-0e329aac2fc8"",""url"":""https://www.last.fm/music/Arcade+Fire/_/Sprawl+II+(Mountains+Beyond+Mountains)"",""date"":{""uts"":""1500668612"",""#text"":""21 Jul 2017, 20:23""},""artist"":{""name"":""Arcade Fire"",""mbid"":""52074ba6-e495-4ef3-9bb4-0703888a9f68"",""url"":""https://www.last.fm/music/Arcade+Fire""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Sprawl I (Flatland)"",""mbid"":""11aeba39-b40e-4808-bd54-ec35f2371b73"",""url"":""https://www.last.fm/music/Arcade+Fire/_/Sprawl+I+(Flatland)"",""date"":{""uts"":""1500668610"",""#text"":""21 Jul 2017, 20:23""},""artist"":{""name"":""Arcade Fire"",""mbid"":""52074ba6-e495-4ef3-9bb4-0703888a9f68"",""url"":""https://www.last.fm/music/Arcade+Fire""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""We Used to Wait"",""mbid"":""f2907106-ee73-45f4-af4f-5b8e7da40408"",""url"":""https://www.last.fm/music/Arcade+Fire/_/We+Used+to+Wait"",""date"":{""uts"":""1500668607"",""#text"":""21 Jul 2017, 20:23""},""artist"":{""name"":""Arcade Fire"",""mbid"":""52074ba6-e495-4ef3-9bb4-0703888a9f68"",""url"":""https://www.last.fm/music/Arcade+Fire""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Left Hand Free"",""mbid"":""7f35b163-3abf-4622-ab87-6170edeb9df2"",""url"":""https://www.last.fm/music/alt-J/_/Left+Hand+Free"",""date"":{""uts"":""1500668598"",""#text"":""21 Jul 2017, 20:23""},""artist"":{""name"":""alt-J"",""mbid"":""fc7bbf00-fbaa-4736-986b-b3ac0266ca9b"",""url"":""https://www.last.fm/music/alt-J""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Lifting The Sea"",""mbid"":""254aae02-cd17-4698-bbab-195953c84e76"",""url"":""https://www.last.fm/music/The+Hunts/_/Lifting+The+Sea"",""date"":{""uts"":""1500668584"",""#text"":""21 Jul 2017, 20:23""},""artist"":{""name"":""The Hunts"",""mbid"":""e8d09a40-6676-4cf6-af57-d847814f6af6"",""url"":""https://www.last.fm/music/The+Hunts""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""The Power Is On"",""mbid"":""cfd9b26c-eb51-48a6-8f70-7559bff1ba7f"",""url"":""https://www.last.fm/music/The+Go%21+Team/_/The+Power+Is+On"",""date"":{""uts"":""1500668563"",""#text"":""21 Jul 2017, 20:22""},""artist"":{""name"":""The Go! Team"",""mbid"":""8a396a9c-2e4f-47e2-a587-c26e93a0953f"",""url"":""https://www.last.fm/music/The+Go%21+Team""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Ladyflash"",""mbid"":""4bb6ca48-002f-4393-9acd-b76874fa606c"",""url"":""https://www.last.fm/music/The+Go%21+Team/_/Ladyflash"",""date"":{""uts"":""1500668545"",""#text"":""21 Jul 2017, 20:22""},""artist"":{""name"":""The Go! Team"",""mbid"":""8a396a9c-2e4f-47e2-a587-c26e93a0953f"",""url"":""https://www.last.fm/music/The+Go%21+Team""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Everyone's a V.I.P. to Someone"",""mbid"":""65a809d8-8e7c-40a6-acbe-ed1c9f9f7078"",""url"":""https://www.last.fm/music/The+Go%21+Team/_/Everyone%27s+a+V.I.P.+to+Someone"",""date"":{""uts"":""1500668512"",""#text"":""21 Jul 2017, 20:21""},""artist"":{""name"":""The Go! Team"",""mbid"":""8a396a9c-2e4f-47e2-a587-c26e93a0953f"",""url"":""https://www.last.fm/music/The+Go%21+Team""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/3c1a3d1ee983470db3ab49989a8cc000.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Please Let It Go"",""mbid"":"""",""url"":""https://www.last.fm/music/The+Hunts/_/Please+Let+It+Go"",""date"":{""uts"":""1500660018"",""#text"":""21 Jul 2017, 18:00""},""artist"":{""name"":""The Hunts"",""mbid"":""e8d09a40-6676-4cf6-af57-d847814f6af6"",""url"":""https://www.last.fm/music/The+Hunts""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Choice Kingdom"",""mbid"":""5c8b0547-331d-4f4d-a86a-b44241a62a54"",""url"":""https://www.last.fm/music/alt-J/_/Choice+Kingdom"",""date"":{""uts"":""1500658292"",""#text"":""21 Jul 2017, 17:31""},""artist"":{""name"":""alt-J"",""mbid"":""fc7bbf00-fbaa-4736-986b-b3ac0266ca9b"",""url"":""https://www.last.fm/music/alt-J""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""This Is Love"",""mbid"":""cbf4b250-d786-451a-b24d-1a16fd23dfa1"",""url"":""https://www.last.fm/music/The+Hunts/_/This+Is+Love"",""date"":{""uts"":""1500658275"",""#text"":""21 Jul 2017, 17:31""},""artist"":{""name"":""The Hunts"",""mbid"":""e8d09a40-6676-4cf6-af57-d847814f6af6"",""url"":""https://www.last.fm/music/The+Hunts""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/9b896f938a114bd1b4c1410c3c50eb9b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Waiting for a Superman"",""mbid"":""e26f097d-9f31-4362-b82a-890e52e9b374"",""url"":""https://www.last.fm/music/The+Flaming+Lips/_/Waiting+for+a+Superman"",""date"":{""uts"":""1500581779"",""#text"":""20 Jul 2017, 20:16""},""artist"":{""name"":""The Flaming Lips"",""mbid"":""1f43d76f-8edf-44f6-aaf1-b65f05ad9402"",""url"":""https://www.last.fm/music/The+Flaming+Lips""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/13bfb488773645f199d9868467b35483.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/13bfb488773645f199d9868467b35483.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/13bfb488773645f199d9868467b35483.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/13bfb488773645f199d9868467b35483.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""City With No Children"",""mbid"":""9c118d08-9007-4afa-904c-5e9ff44eeb5f"",""url"":""https://www.last.fm/music/Arcade+Fire/_/City+With+No+Children"",""date"":{""uts"":""1500581777"",""#text"":""20 Jul 2017, 20:16""},""artist"":{""name"":""Arcade Fire"",""mbid"":""52074ba6-e495-4ef3-9bb4-0703888a9f68"",""url"":""https://www.last.fm/music/Arcade+Fire""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/4d5618c3c06523ed2f3d8710d2be5d96.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""The Spark That Bled"",""mbid"":""f0feedac-74bd-47f8-883c-d17cb5793a2b"",""url"":""https://www.last.fm/music/The+Flaming+Lips/_/The+Spark+That+Bled"",""date"":{""uts"":""1500581775"",""#text"":""20 Jul 2017, 20:16""},""artist"":{""name"":""The Flaming Lips"",""mbid"":""1f43d76f-8edf-44f6-aaf1-b65f05ad9402"",""url"":""https://www.last.fm/music/The+Flaming+Lips""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/13bfb488773645f199d9868467b35483.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/13bfb488773645f199d9868467b35483.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/13bfb488773645f199d9868467b35483.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/13bfb488773645f199d9868467b35483.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Familiarity"",""mbid"":"""",""url"":""https://www.last.fm/music/Punch+Brothers/_/Familiarity"",""date"":{""uts"":""1500499404"",""#text"":""19 Jul 2017, 21:23""},""artist"":{""name"":""Punch Brothers"",""mbid"":""5508509b-5481-4341-94ae-209eb371afe7"",""url"":""https://www.last.fm/music/Punch+Brothers""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/19f197310aed4ecda3ca16f3ad7b1ebb.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/19f197310aed4ecda3ca16f3ad7b1ebb.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/19f197310aed4ecda3ca16f3ad7b1ebb.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/19f197310aed4ecda3ca16f3ad7b1ebb.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Cloud of Forgetting"",""mbid"":"""",""url"":""https://www.last.fm/music/Swans/_/Cloud+of+Forgetting"",""date"":{""uts"":""1500499400"",""#text"":""19 Jul 2017, 21:23""},""artist"":{""name"":""Swans"",""mbid"":""3285dc48-9505-469d-ad8a-bdf2d3dba632"",""url"":""https://www.last.fm/music/Swans""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/0534b386875444108474d3c506417dbb.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/0534b386875444108474d3c506417dbb.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/0534b386875444108474d3c506417dbb.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/0534b386875444108474d3c506417dbb.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""We Broke Free"",""mbid"":""00415ff8-5baa-424e-89a5-d9787c52553c"",""url"":""https://www.last.fm/music/Metronomy/_/We+Broke+Free"",""date"":{""uts"":""1500327032"",""#text"":""17 Jul 2017, 21:30""},""artist"":{""name"":""Metronomy"",""mbid"":""93eb7110-0bc9-4d3f-816b-4b52ef982ec8"",""url"":""https://www.last.fm/music/Metronomy""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/74948f1751c5409cc041d7a4032ea34b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/74948f1751c5409cc041d7a4032ea34b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/74948f1751c5409cc041d7a4032ea34b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/74948f1751c5409cc041d7a4032ea34b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Fall"",""mbid"":""78490d5b-5b76-4e1e-8518-dfd09eab02a9"",""url"":""https://www.last.fm/music/Editors/_/Fall"",""date"":{""uts"":""1500326506"",""#text"":""17 Jul 2017, 21:21""},""artist"":{""name"":""Editors"",""mbid"":""0efe858c-89e5-4e47-906a-356fa953fd6e"",""url"":""https://www.last.fm/music/Editors""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/b716aa28877d47826b9784c84cfdccba.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/b716aa28877d47826b9784c84cfdccba.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/b716aa28877d47826b9784c84cfdccba.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/b716aa28877d47826b9784c84cfdccba.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Fade Away"",""mbid"":"""",""url"":""https://www.last.fm/music/Susanne+Sundf%C3%B8r/_/Fade+Away"",""date"":{""uts"":""1500326077"",""#text"":""17 Jul 2017, 21:14""},""artist"":{""name"":""Susanne Sundfør"",""mbid"":""f3f9e76a-0685-4a9a-97d1-6fa2b50f9fba"",""url"":""https://www.last.fm/music/Susanne+Sundf%C3%B8r""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Memorial"",""mbid"":"""",""url"":""https://www.last.fm/music/Susanne+Sundf%C3%B8r/_/Memorial"",""date"":{""uts"":""1500326074"",""#text"":""17 Jul 2017, 21:14""},""artist"":{""name"":""Susanne Sundfør"",""mbid"":""f3f9e76a-0685-4a9a-97d1-6fa2b50f9fba"",""url"":""https://www.last.fm/music/Susanne+Sundf%C3%B8r""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/9f9e43170c4f2449587d016d68f15a7c.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Drunk Drivers/Killer Whales"",""mbid"":"""",""url"":""https://www.last.fm/music/Car+Seat+Headrest/_/Drunk+Drivers%2FKiller+Whales"",""date"":{""uts"":""1500313417"",""#text"":""17 Jul 2017, 17:43""},""artist"":{""name"":""Car Seat Headrest"",""mbid"":""0fabbc1d-8d94-4a61-bd1d-1099ad1e4559"",""url"":""https://www.last.fm/music/Car+Seat+Headrest""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/2eff10f80448516fb78ccfb309cce769.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/2eff10f80448516fb78ccfb309cce769.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/2eff10f80448516fb78ccfb309cce769.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/2eff10f80448516fb78ccfb309cce769.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""(Joe Gets Kicked Out of School for Using) Drugs With Friends (But Says This Isn't a Problem)"",""mbid"":"""",""url"":""https://www.last.fm/music/Car+Seat+Headrest/_/(Joe+Gets+Kicked+Out+of+School+for+Using)+Drugs+With+Friends+(But+Says+This+Isn%27t+a+Problem)"",""date"":{""uts"":""1500313381"",""#text"":""17 Jul 2017, 17:43""},""artist"":{""name"":""Car Seat Headrest"",""mbid"":""0fabbc1d-8d94-4a61-bd1d-1099ad1e4559"",""url"":""https://www.last.fm/music/Car+Seat+Headrest""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/2eff10f80448516fb78ccfb309cce769.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/2eff10f80448516fb78ccfb309cce769.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/2eff10f80448516fb78ccfb309cce769.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/2eff10f80448516fb78ccfb309cce769.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""The Softest Voice"",""mbid"":""24bcd558-9f41-446c-82b9-3cafdb6e76da"",""url"":""https://www.last.fm/music/Animal+Collective/_/The+Softest+Voice"",""date"":{""uts"":""1500313359"",""#text"":""17 Jul 2017, 17:42""},""artist"":{""name"":""Animal Collective"",""mbid"":""0c751690-c784-4a4f-b1e4-c1de27d47581"",""url"":""https://www.last.fm/music/Animal+Collective""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""She Brings the Sunlight"",""mbid"":""fd1d4368-65c3-4624-9fd4-7c9f12065a8e"",""url"":""https://www.last.fm/music/Richard+Hawley/_/She+Brings+the+Sunlight"",""date"":{""uts"":""1500064330"",""#text"":""14 Jul 2017, 20:32""},""artist"":{""name"":""Richard Hawley"",""mbid"":""47c6bc7d-27f0-41c8-b84d-7dabcc9f277f"",""url"":""https://www.last.fm/music/Richard+Hawley""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Cuckoo Cuckoo"",""mbid"":""1ceefc1a-c0ae-46cf-8a60-36c9d37dc79d"",""url"":""https://www.last.fm/music/Animal+Collective/_/Cuckoo+Cuckoo"",""date"":{""uts"":""1500062077"",""#text"":""14 Jul 2017, 19:54""},""artist"":{""name"":""Animal Collective"",""mbid"":""0c751690-c784-4a4f-b1e4-c1de27d47581"",""url"":""https://www.last.fm/music/Animal+Collective""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Chores"",""mbid"":""b2c95b45-e1d0-4a56-aef5-a3cb4acb5d2f"",""url"":""https://www.last.fm/music/Animal+Collective/_/Chores"",""date"":{""uts"":""1500062068"",""#text"":""14 Jul 2017, 19:54""},""artist"":{""name"":""Animal Collective"",""mbid"":""0c751690-c784-4a4f-b1e4-c1de27d47581"",""url"":""https://www.last.fm/music/Animal+Collective""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/1c82b362459f4e74bb39b8f5d35d72f6.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Standing At the Sky's Edge"",""mbid"":""0adc4f54-90f5-41a1-83c8-196548a6ed72"",""url"":""https://www.last.fm/music/Richard+Hawley/_/Standing+At+the+Sky%27s+Edge"",""date"":{""uts"":""1500062052"",""#text"":""14 Jul 2017, 19:54""},""artist"":{""name"":""Richard Hawley"",""mbid"":""47c6bc7d-27f0-41c8-b84d-7dabcc9f277f"",""url"":""https://www.last.fm/music/Richard+Hawley""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Seek It"",""mbid"":""02d362b2-853e-4a22-8f83-86b30abf6b93"",""url"":""https://www.last.fm/music/Richard+Hawley/_/Seek+It"",""date"":{""uts"":""1500062046"",""#text"":""14 Jul 2017, 19:54""},""artist"":{""name"":""Richard Hawley"",""mbid"":""47c6bc7d-27f0-41c8-b84d-7dabcc9f277f"",""url"":""https://www.last.fm/music/Richard+Hawley""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/8de9fd05a60f4ae4850d892946452fc2.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Here She Comes"",""mbid"":""c2d153c6-84de-4699-b048-2446ed63798a"",""url"":""https://www.last.fm/music/Slowdive/_/Here+She+Comes"",""date"":{""uts"":""1500016032"",""#text"":""14 Jul 2017, 07:07""},""artist"":{""name"":""Slowdive"",""mbid"":""a16371b9-7d36-497a-a9d4-42b0a0440c5e"",""url"":""https://www.last.fm/music/Slowdive""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/6117351f898b4a90caed5444b8772bac.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/6117351f898b4a90caed5444b8772bac.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/6117351f898b4a90caed5444b8772bac.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/6117351f898b4a90caed5444b8772bac.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Machine Gun"",""mbid"":""690e5885-fcf3-4c0a-b7b6-67dbab927739"",""url"":""https://www.last.fm/music/Slowdive/_/Machine+Gun"",""date"":{""uts"":""1500015841"",""#text"":""14 Jul 2017, 07:04""},""artist"":{""name"":""Slowdive"",""mbid"":""a16371b9-7d36-497a-a9d4-42b0a0440c5e"",""url"":""https://www.last.fm/music/Slowdive""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/6117351f898b4a90caed5444b8772bac.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/6117351f898b4a90caed5444b8772bac.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/6117351f898b4a90caed5444b8772bac.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/6117351f898b4a90caed5444b8772bac.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""COLORE CAFE"",""mbid"":"""",""url"":""https://www.last.fm/music/Jalous+e+Tango/_/COLORE+CAFE"",""date"":{""uts"":""1499975240"",""#text"":""13 Jul 2017, 19:47""},""artist"":{""name"":""Jalous e Tango"",""mbid"":"""",""url"":""https://www.last.fm/music/Jalous+e+Tango""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/fa6b9f2cfb3d4785b8cef10509c46717.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/fa6b9f2cfb3d4785b8cef10509c46717.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/fa6b9f2cfb3d4785b8cef10509c46717.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/fa6b9f2cfb3d4785b8cef10509c46717.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Feel"",""mbid"":""0b701209-140a-49bb-b556-43b06ae685b7"",""url"":""https://www.last.fm/music/Bombay+Bicycle+Club/_/Feel"",""date"":{""uts"":""1498743284"",""#text"":""29 Jun 2017, 13:34""},""artist"":{""name"":""Bombay Bicycle Club"",""mbid"":""0ae49abe-d6af-44fa-8ab0-b9ace5690e6f"",""url"":""https://www.last.fm/music/Bombay+Bicycle+Club""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/b5922f53b311449fc461743d3c024f48.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/b5922f53b311449fc461743d3c024f48.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/b5922f53b311449fc461743d3c024f48.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/b5922f53b311449fc461743d3c024f48.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""It's Alright Now"",""mbid"":""c16713a6-a9c1-4a91-acf1-0ee3b788e22d"",""url"":""https://www.last.fm/music/Bombay+Bicycle+Club/_/It%27s+Alright+Now"",""date"":{""uts"":""1498682891"",""#text"":""28 Jun 2017, 20:48""},""artist"":{""name"":""Bombay Bicycle Club"",""mbid"":""0ae49abe-d6af-44fa-8ab0-b9ace5690e6f"",""url"":""https://www.last.fm/music/Bombay+Bicycle+Club""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/b5922f53b311449fc461743d3c024f48.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/b5922f53b311449fc461743d3c024f48.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/b5922f53b311449fc461743d3c024f48.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/b5922f53b311449fc461743d3c024f48.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Whenever, Wherever"",""mbid"":""5c792959-2337-4854-9cdf-fd36fa082dde"",""url"":""https://www.last.fm/music/Bombay+Bicycle+Club/_/Whenever,+Wherever"",""date"":{""uts"":""1498682888"",""#text"":""28 Jun 2017, 20:48""},""artist"":{""name"":""Bombay Bicycle Club"",""mbid"":""0ae49abe-d6af-44fa-8ab0-b9ace5690e6f"",""url"":""https://www.last.fm/music/Bombay+Bicycle+Club""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/b5922f53b311449fc461743d3c024f48.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/b5922f53b311449fc461743d3c024f48.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/b5922f53b311449fc461743d3c024f48.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/b5922f53b311449fc461743d3c024f48.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""An Encyclopedia"",""mbid"":"""",""url"":""https://www.last.fm/music/Milo/_/An+Encyclopedia"",""date"":{""uts"":""1498682870"",""#text"":""28 Jun 2017, 20:47""},""artist"":{""name"":""Milo"",""mbid"":""d2fae79c-3bdc-4ff8-a961-ac9c8768dc27"",""url"":""https://www.last.fm/music/Milo""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/191248f5f76f60c0f44bf4952cb12b38.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/191248f5f76f60c0f44bf4952cb12b38.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/191248f5f76f60c0f44bf4952cb12b38.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/191248f5f76f60c0f44bf4952cb12b38.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""The Moon Is a Blind Eye"",""mbid"":""bfd861e4-797c-4466-adaf-c73dc8ac3509"",""url"":""https://www.last.fm/music/I+Am+Kloot/_/The+Moon+Is+a+Blind+Eye"",""date"":{""uts"":""1498656836"",""#text"":""28 Jun 2017, 13:33""},""artist"":{""name"":""I Am Kloot"",""mbid"":""7bd92ac9-6b2e-4e88-812a-60499ec60a9d"",""url"":""https://www.last.fm/music/I+Am+Kloot""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/3a8671569e9f41f8806d60f8369168c7.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/3a8671569e9f41f8806d60f8369168c7.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/3a8671569e9f41f8806d60f8369168c7.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/3a8671569e9f41f8806d60f8369168c7.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Extra Kings"",""mbid"":""f296c6a4-a56e-4e43-8f14-4c17a87e2c90"",""url"":""https://www.last.fm/music/The+Avalanches/_/Extra+Kings"",""date"":{""uts"":""1498656814"",""#text"":""28 Jun 2017, 13:33""},""artist"":{""name"":""The Avalanches"",""mbid"":""a6623d39-2d8e-4f70-8242-0a9553b91e50"",""url"":""https://www.last.fm/music/The+Avalanches""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Since I Left You"",""mbid"":""20f1bb86-c739-4ecb-aa98-78ae6e1ba6be"",""url"":""https://www.last.fm/music/The+Avalanches/_/Since+I+Left+You"",""date"":{""uts"":""1498656813"",""#text"":""28 Jun 2017, 13:33""},""artist"":{""name"":""The Avalanches"",""mbid"":""a6623d39-2d8e-4f70-8242-0a9553b91e50"",""url"":""https://www.last.fm/music/The+Avalanches""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/d5e6af1fef7a92b5c0c1b15cb047aac2.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Star Roving"",""mbid"":"""",""url"":""https://www.last.fm/music/Slowdive/_/Star+Roving"",""date"":{""uts"":""1498656793"",""#text"":""28 Jun 2017, 13:33""},""artist"":{""name"":""Slowdive"",""mbid"":""a16371b9-7d36-497a-a9d4-42b0a0440c5e"",""url"":""https://www.last.fm/music/Slowdive""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/6117351f898b4a90caed5444b8772bac.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/6117351f898b4a90caed5444b8772bac.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/6117351f898b4a90caed5444b8772bac.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/6117351f898b4a90caed5444b8772bac.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Pleader"",""mbid"":"""",""url"":""https://www.last.fm/music/alt-J/_/Pleader"",""date"":{""uts"":""1498602770"",""#text"":""27 Jun 2017, 22:32""},""artist"":{""name"":""alt-J"",""mbid"":""fc7bbf00-fbaa-4736-986b-b3ac0266ca9b"",""url"":""https://www.last.fm/music/alt-J""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}},{""name"":""Last Year"",""mbid"":"""",""url"":""https://www.last.fm/music/alt-J/_/Last+Year"",""date"":{""uts"":""1498601192"",""#text"":""27 Jun 2017, 22:06""},""artist"":{""name"":""alt-J"",""mbid"":""fc7bbf00-fbaa-4736-986b-b3ac0266ca9b"",""url"":""https://www.last.fm/music/alt-J""},""image"":[{""#text"":""https://lastfm-img2.akamaized.net/i/u/34s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""small""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/64s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""medium""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/174s/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""large""},{""#text"":""https://lastfm-img2.akamaized.net/i/u/300x300/7b4bf037231d49adc9d480074f3ee29b.png"",""size"":""extralarge""}],""streamable"":{""#text"":""0"",""fulltrack"":""0""}}],""@attr"":{""user"":""scentMaster"",""page"":""2"",""perPage"":""50"",""totalPages"":""23"",""total"":""1140""}}}

";
        }

        [Test]
        public void GetPageOk()
        {
            Uri uri = new Uri("http://localhost/mypage");
            var mockedLastFmProvider = MockRepository.Mock<ILastFmProvider>();
            var mockedUrlProvider = MockRepository.Mock<IUrlProvider>();
            mockedUrlProvider.Expect(m => m.GetUrl(2)).Return(uri);
            mockedLastFmProvider.Expect(m => m.GetLastFmContent(uri)).Return(_content);
            var loveProvider = new LoveProvider(mockedUrlProvider, mockedLastFmProvider);
            ValidateLovePage(loveProvider.GetPage(2));
        }

        private void ValidateLovePage(LovePage lovePage)
        {
            Assert.IsNotNull(lovePage);
            Assert.IsNotNull(lovePage.AdditionalAttributes);
            Assert.IsNotNull(lovePage.LoveTracks);
            ValidateAdditionalAttributes(lovePage.AdditionalAttributes);
            ValidateLoveTracks(lovePage.LoveTracks);
        }

        private void ValidateLoveTracks(LoveTrack[] lovePageLoveTracks)
        {
            Assert.True(lovePageLoveTracks.Any(l=>l.Artist.Name== "Anna Meredith"));
        }

        private void ValidateAdditionalAttributes(AdditionalAttributes lovePageAdditionalAttributes)
        {
            Assert.AreEqual("scentMaster",lovePageAdditionalAttributes.UserName);
            Assert.AreEqual(2,lovePageAdditionalAttributes.PageNumber);
        }

        [Test]
        public void GetPageNoRawData()
        {
            Uri uri = new Uri("http://localhost/mypage");
            var mockedLastFmProvider = MockRepository.Mock<ILastFmProvider>();
            var mockedUrlProvider = MockRepository.Mock<IUrlProvider>();
            mockedUrlProvider.Expect(m => m.GetUrl(2)).Return(uri);
            mockedLastFmProvider.Expect(m => m.GetLastFmContent(uri)).Return(String.Empty);
            var loveProvider = new LoveProvider(mockedUrlProvider, mockedLastFmProvider);
            Assert.IsNotNull(loveProvider.GetPage(2));

        }
    }
}
